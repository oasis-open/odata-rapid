"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[422],{2417:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var s=n(4246),i=n(1670);const r={id:"rsdl-intro",title:"RSDL Intro"},l="Introduction to RAPID Schema Definition Language (RSDL)",o={id:"rsdl/rsdl-intro",title:"RSDL Intro",description:"RAPID Schema Definition Language (RSDL) is a language to define Web APIs.",source:"@site/../docs/rsdl/rapid-rsdl-intro.md",sourceDirName:"rsdl",slug:"/rsdl/rsdl-intro",permalink:"/docs/rsdl/rsdl-intro",draft:!1,unlisted:!1,editUrl:"https://github.com/oasis-open/odata-rapid/edit/main/docs/../docs/rsdl/rapid-rsdl-intro.md",tags:[],version:"current",frontMatter:{id:"rsdl-intro",title:"RSDL Intro"},sidebar:"docs",previous:{title:"Batch Operations",permalink:"/docs/spec/batch"},next:{title:"RAPID Paths",permalink:"/docs/rsdl/rsdl-paths"}},a={},c=[{value:"Introductory Example",id:"introductory-example",level:2},{value:"Defining a Structured Type",id:"defining-a-structured-type",level:3},{value:"Defining a Service",id:"defining-a-service",level:3},{value:"Defining a Structured Type Property",id:"defining-a-structured-type-property",level:3},{value:"Defining a Top-Level Collection",id:"defining-a-top-level-collection",level:3},{value:"Defining an Enum",id:"defining-an-enum",level:3},{value:"Defining a Structured Property without Identity",id:"defining-a-structured-property-without-identity",level:3},{value:"Defining Methods",id:"defining-methods",level:3},{value:"Actions",id:"actions",level:4},{value:"Functions",id:"functions",level:4},{value:"Explicit Paths",id:"explicit-paths",level:4}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"introduction-to-rapid-schema-definition-language-rsdl",children:"Introduction to RAPID Schema Definition Language (RSDL)"}),"\n",(0,s.jsx)(t.p,{children:"RAPID Schema Definition Language (RSDL) is a language to define Web APIs."}),"\n",(0,s.jsxs)(t.p,{children:["RSDL is based on the RAPID ",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Profile_(engineering)",children:"Profile"})," of the\n",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Open_Data_Protocol",children:"OData"})," specification. RAPID provides an easy way\nto envision, create, and consume a Web API that is compatible with the OData Standard and can evolve over time to support more advanced scenarios."]}),"\n",(0,s.jsx)(t.h2,{id:"introductory-example",children:"Introductory Example"}),"\n",(0,s.jsx)(t.p,{children:"RAPID APIs are defined by a schema, which can easily be specified using RSDL."}),"\n",(0,s.jsx)(t.h3,{id:"defining-a-structured-type",children:"Defining a Structured Type"}),"\n",(0,s.jsx)(t.p,{children:"Let's say that we wanted our API to deal with information about a company. We could specify the properties of a company as follows:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"type Company\n{\n  stockSymbol: String\n  name: String\n  incorporated: Date\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"Our company has three properties: a stockSymbol, a name, and the date of incorporation."}),"\n",(0,s.jsxs)(t.p,{children:["A property in RAPID can be an Integer, String, Boolean, DateTime, Date, Double, Decimal, TimeOfDay, Duration built-in types, an ",(0,s.jsx)(t.a,{href:"#defining-an-enum",children:"enum type"}),", a ",(0,s.jsx)(t.a,{href:"#defining-a-structured-type",children:"structured type"}),", or a collection of any of the former."]}),"\n",(0,s.jsx)(t.h3,{id:"defining-a-service",children:"Defining a Service"}),"\n",(0,s.jsx)(t.p,{children:"Now we can create a service that returns information about our company:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"service {\n  company: Company\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"This allows us to make simple requests against our company:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Request"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Comment"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["GET ",(0,s.jsx)(t.a,{href:"https://jetsons.azurewebsites.net/company?$select=stockSymbol,name",children:"http://rapid-pro.org/company?select=stockSymbol,name"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"get the stock symbol and name of the company"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["PATCH ",(0,s.jsx)(t.a,{href:"http://rapid-pro.org/company",children:"http://rapid-pro.org/company"})," ",(0,s.jsx)("br",{}),' { "name":"Spacely\'s Space Sprockets" }']}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"update the company name"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"defining-a-structured-type-property",children:"Defining a Structured Type Property"}),"\n",(0,s.jsx)(t.p,{children:"Now let's say that we wanted to add employees to our company."}),"\n",(0,s.jsx)(t.p,{children:"First, we would define the employee type:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"type Employee\n{\n  key id: Integer\n  firstName : String\n  lastName : String\n  title: String\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"The id property is identified as a key, meaning that instances of employees within a collection can be referenced by their id."}),"\n",(0,s.jsx)(t.p,{children:"Now we can add employees to our company:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"type Company\n{\n  stockSymbol: String\n  name: String\n  incorporated: Date\n  employees: [Employee]\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The employees property is a collection of our employee type. Because it is a collection, the type is enclosed in square brackets ",(0,s.jsx)(t.code,{children:"["}),"...",(0,s.jsx)(t.code,{children:"]"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"Now we can get employees for our company:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Request"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Comment"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["GET ",(0,s.jsx)(t.a,{href:"https://jetsons.azurewebsites.net/company/employees?$select=lastName,title",children:"http://rapid-pro.org/company/employees?select=lastName,title"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"list the last name and title for all employees for the company"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["GET ",(0,s.jsx)(t.a,{href:"https://jetsons.azurewebsites.net/company/employees/1?$select=lastName,title",children:"http://rapid-pro.org/company/employees/1?select=lastName,title"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"get the last name and title of the employee with id=1"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["GET ",(0,s.jsx)(t.a,{href:"https://jetsons.azurewebsites.net/company?$select=name&$expand=employees($select=lastName)",children:"http://rapid-pro.org/company?select=name&expand=employees(select=lastName)"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"get the company name and the last names of all of its employees"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["POST ",(0,s.jsx)(t.a,{href:"http://rapid-pro.org/company/employees",children:"http://rapid-pro.org/company/employees"})," ",(0,s.jsx)("br",{}),' { "firstName": "Cosmo","lastName": "Spacely","title": "CEO" }']}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"add a new employee"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["PATCH ",(0,s.jsx)(t.a,{href:"https://jetsons.azurewebsites.net/company/employees/1",children:"http://rapid-pro.org/company/employees/1"}),' {"title": "Assistant to the Assistant Regional Manager"}']}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"change the title of the employee with id=1"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["DELETE ",(0,s.jsx)(t.a,{href:"http://rapid-pro.org/company/employees/1",children:"http://rapid-pro.org/company/employees/1"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"delete the employee with id=1"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"defining-a-top-level-collection",children:"Defining a Top-Level Collection"}),"\n",(0,s.jsx)(t.p,{children:"Our service exposes a single top-level company instance."}),"\n",(0,s.jsx)(t.p,{children:"We could also add a top-level collection."}),"\n",(0,s.jsx)(t.p,{children:"For example, we could reuse the same company type to create a collection of companies that are competitors."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"service {\n  company: Company\n  competitors: [Company]\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"Because company is now part of a collection, if we want to reference individual companies within the collection we would define a key. In this case, we use stockSymbol as the key:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"type Company\n{\n  key stockSymbol: String\n  name: String\n  incorporated: Date\n  employees: [Employee]\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"Now we can request individual companies within the competitors collection:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Request"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Comment"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["POST ",(0,s.jsx)(t.a,{href:"http://rapid-pro.org/competitors",children:"http://rapid-pro.org/competitors"})," ",(0,s.jsx)("br",{}),' { "stockSymbol":"cgswl", "name":"Cogswell\'s Cosmic COGs" "incorporated":"2054-10-04T00:00:00Z" }']}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"create a new competitor"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["GET ",(0,s.jsx)(t.a,{href:"https://jetsons.azurewebsites.net/competitors?$select=name",children:"http://rapid-pro.org/competitors?select=name"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"list the names of all of the competitors"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["GET ",(0,s.jsx)(t.a,{href:"https://jetsons.azurewebsites.net/competitors/cgswl?$select=name",children:"http://rapid-pro.org/competitors/cgswl?select=name"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"get the name of the competitor with the stock symbol cgswl"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["GET ",(0,s.jsx)(t.a,{href:"https://jetsons.azurewebsites.net/competitors/cgswl/employees?$select=lastName",children:"http://rapid-pro.org/competitors/cgswl/employees?select=lastName"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"get the last name of employees for the competitor with the stock symbol cgswl"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["DELETE ",(0,s.jsx)(t.a,{href:"http://rapid-pro.org/competitors/cgswl",children:"http://rapid-pro.org/competitors/cgswl"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"delete the competitor with the stock symbol cgswl"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"defining-an-enum",children:"Defining an Enum"}),"\n",(0,s.jsx)(t.p,{children:"Enumerations allow us to define a string-valued property with a fixed set of values."}),"\n",(0,s.jsx)(t.p,{children:'Let\'s say that we wanted to define an employmentType enumeration, with possible values "salaried" and "hourly". We could do so as follows:'}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"enum EmploymentType\n{\n  salaried\n  hourly\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"Now we could use that employmentType enum in our employees example:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"type Employee\n{\n  key id: Integer\n  firstName: String\n  lastName: String\n  title: String\n  employeeType: EmploymentType\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"defining-a-structured-property-without-identity",children:"Defining a Structured Property without Identity"}),"\n",(0,s.jsx)(t.p,{children:'Our employee has first name and last name properties. We could define a "fullName" type to group those properties together:'}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"type FullName\n{\n  firstName: String\n  lastName: String\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"and then use that type in our employee:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"type Employee\n{\n  key id: Integer\n  name: FullName\n  title: String\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"Grouping these properties together keeps them organized and makes them easy to use in various structured types."}),"\n",(0,s.jsx)(t.h3,{id:"defining-methods",children:"Defining Methods"}),"\n",(0,s.jsx)(t.p,{children:"RAPID supports actions and functions."}),"\n",(0,s.jsx)(t.h4,{id:"actions",children:"Actions"}),"\n",(0,s.jsx)(t.p,{children:"An action takes zero or more input parameters and may or may not return a value. Actions may have side effects."}),"\n",(0,s.jsx)(t.p,{children:'We can define a "youreFired" action on our company that takes a string parameter "reason":'}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"type Company\n{\n  key stockSymbol: String\n  name: String\n  incorporated: Date\n  employees: [Employee]\n  topEmployees(num: Integer): [Employee]\n  action youreFired(reason: String)\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["youreFired has the ",(0,s.jsx)(t.code,{children:"action"})," attribute to show that it is an action and may have side-affects. It does not return a value."]}),"\n",(0,s.jsx)(t.p,{children:"Because actions may have side-affects, they are invoked using POST. Their parameters are passed in the body of the request."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Request"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Comment"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["POST ",(0,s.jsx)(t.a,{href:"http://rapid-pro.org/company/employees/1/youreFired",children:"http://rapid-pro.org/company/employees/1/youreFired"})," ",(0,s.jsx)("br",{}),' { "reason": "Embezzlement" }']}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"invoke the youreFired action on employee with id = 1"})]})})]}),"\n",(0,s.jsx)(t.p,{children:"Actions and functions may also be defined on the service."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"service {\n  company: Company\n  competitors: [Company]\n  currentStockPrice(stockSymbol: String): Decimal\n}\n"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Request"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Comment"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["GET ",(0,s.jsx)(t.a,{href:"https://jetsons.azurewebsites.net/currentStockPrice(stockSymbol=cgswl)",children:"http://rapid-pro.org/currentStockPrice?stockSymbol=cgswl"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"get the current stock price for cgswl"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"functions",children:"Functions"}),"\n",(0,s.jsx)(t.p,{children:"A function takes zero or more input parameters, and returns a value. Functions must not have side effects."}),"\n",(0,s.jsx)(t.p,{children:'We can define a "topEmployees" function on our company:'}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"type Company\n{\n  key stockSymbol: String\n  name: String\n  incorporated: Date\n  employees: [Employee]\n  topEmployees(num: Integer) : [Employee]\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:'topEmployees takes a single Integer parameter "num" and returns a collection of employees.'}),"\n",(0,s.jsx)(t.p,{children:"Functions are invoked using a GET request. Function parameters are passed in the URL."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Request"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Comment"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["GET ",(0,s.jsx)(t.a,{href:"https://jetsons.azurewebsites.net/company/Jetsons.Models.topEmployees(num=10)",children:"http://rapid-pro.org/company/topEmployees?num=10"})]}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"get the company's top 10 employees"})]})})]}),"\n",(0,s.jsx)(t.h4,{id:"explicit-paths",children:"Explicit Paths"}),"\n",(0,s.jsxs)(t.p,{children:["The set of paths supported by a RAPID service generally do not need to be explicitly enumerated in the RSDL because they are defined by the model. However, in some cases you may want to be explicit about the set of paths supported, either because the service supports only a subset of paths or because you want to specify ",(0,s.jsx)(t.a,{href:"/docs/rsdl/rsdl-capabilities#annotating-paths",children:"capabilities"})," that are specific to that path."]}),"\n",(0,s.jsx)(t.p,{children:"The set of paths supported by a RAPID service can be explicitly enumerated in the RSDL specification:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"paths :\n{\n  /company\n  /company/employees\n  /company/employees/{id}\n  /competitors\n  /competitors/{stockSymbol}\n  /competitors/{stockSymbol}/employees\n  /competitors/{stockSymbol}/employees/{id}\n  /company/topEmployees(num={num})\n  /company/topEmployees(num={num})/{id}\n  /company/youreFired\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"Paths that are omitted are not supported, even if valid according to the model."}),"\n",(0,s.jsx)(t.p,{children:"A nice way of documenting that a path is not supported is by it by adding it as a comment. From a syntax perspective this is equivalent to omitting that path:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-rsdl",children:"\npaths :\n{\n  /company\n  /company/employees\n  /company/employees/{id}\n  /competitors\n  /competitors/{stockSymbol}\n# /competitors/{stockSymbol}/employees\n# /competitors/{stockSymbol}/employees/{id}\n  /company/topEmployees(num={num})\n# /company/topEmployees(num={num})/{id}\n  /company/youreFired\n}\n"})})]})}function p(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1670:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>l});var s=n(7378);const i={},r=s.createContext(i);function l(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);