"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[172],{5619:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var a=t(4246),n=t(1670);const s={id:"graphqlclient",title:"GraphQL client tutorial",sidebar_label:"GraphQL Client Tutorial"},i=void 0,o={id:"tutorial/graphqlclient",title:"GraphQL client tutorial",description:"GraphQL provides a rich client and tooling experience for consuming data from a compliant service. RAPID makes it easy to build rich, interoperable, enterprise-ready, standards-based services.",source:"@site/../docs/tutorial/graphqlclient.md",sourceDirName:"tutorial",slug:"/tutorial/graphqlclient",permalink:"/docs/tutorial/graphqlclient",draft:!1,unlisted:!1,editUrl:"https://github.com/oasis-open/odata-rapid/edit/main/docs/../docs/tutorial/graphqlclient.md",tags:[],version:"current",frontMatter:{id:"graphqlclient",title:"GraphQL client tutorial",sidebar_label:"GraphQL Client Tutorial"},sidebar:"samples",previous:{title:"Jetsons Sample Service",permalink:"/docs/samples/jetsons"}},l={},c=[{value:"Create a node.js project",id:"create-a-nodejs-project",level:2},{value:"Install the GraphQL Mesh OData Handler",id:"install-the-graphql-mesh-odata-handler",level:2},{value:"Configure the OData Handler",id:"configure-the-odata-handler",level:2},{value:"Preview your service with GraphQL",id:"preview-your-service-with-graphql",level:2},{value:"Build your client",id:"build-your-client",level:2},{value:"Deploy a GraphQL SDK for your client",id:"deploy-a-graphql-sdk-for-your-client",level:2}];function h(e){const r={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.a,{href:"/docs/related/graphql",children:"GraphQL"})," provides a rich client and tooling experience for consuming data from a compliant service. RAPID makes it easy to build rich, interoperable, enterprise-ready, standards-based services."]}),"\n",(0,a.jsxs)(r.p,{children:["Since RAPID services comply with the ",(0,a.jsx)(r.a,{href:"/docs/related/odata",children:"OData protocol"}),", they can be used with tooling that targets OData services, such as GraphQL Mesh."]}),"\n",(0,a.jsxs)(r.p,{children:["In this tutorial we'll see how easy it is to take advantage of GraphQL's client and tooling experiences with your RAPID service using the ",(0,a.jsx)(r.a,{href:"https://www.graphql-mesh.com/docs/handlers/odata",children:"GraphQL Mesh OData Handler"}),"."]}),"\n",(0,a.jsx)(r.h2,{id:"create-a-nodejs-project",children:"Create a node.js project"}),"\n",(0,a.jsx)(r.p,{children:"To create a new node.js project:"}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:["Install node.js and npm package manager from the ",(0,a.jsx)(r.a,{href:"https://nodejs.org/en/",children:"Node.js website"})]}),"\n",(0,a.jsx)(r.li,{children:'For a new project, run "npm init" to create a new package.json file'}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"install-the-graphql-mesh-odata-handler",children:"Install the GraphQL Mesh OData Handler"}),"\n",(0,a.jsxs)(r.p,{children:["To install GraphQL Mesh to work with your RAPID service, first, install the ",(0,a.jsx)(r.a,{href:"https://www.graphql-mesh.com/docs/getting-started/installation",children:"GraphQL Mesh framework"})," as follows:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"npm install graphql @graphql-mesh/cli\n"})}),"\n",(0,a.jsx)(r.p,{children:"Next, add the OData Handler:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"npm install @graphql-mesh/odata\n"})}),"\n",(0,a.jsx)(r.h2,{id:"configure-the-odata-handler",children:"Configure the OData Handler"}),"\n",(0,a.jsxs)(r.p,{children:["Create a GraphQL Mesh Configuration file named ",(0,a.jsx)(r.code,{children:".meshrc.yaml"})," at the root of your project, with a pointer to your RAPID service. The following configuration references our ",(0,a.jsx)(r.a,{href:"https://jetsons.azurewebsites.net/",children:"Jetsons Sample Service"}),", but you can replace the name and baseUrl with a pointer to your own RAPID service."]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:'sources:\n  - name: Jetsons\n    handler:\n      odata:\n        endpoint: https://jetsons.azurewebsites.net/\n        schemaHeaders: { "accept": "application/xml" }\n'})}),"\n",(0,a.jsxs)(r.p,{children:["Note the schemaHeaders line. GraphQL Mesh currently supports only the ",(0,a.jsx)(r.a,{href:"https://docs.oasis-open.org/odata/odata-csdl-xml/v4.01/odata-csdl-xml-v4.01.html",children:"XML CSDL metadata format"}),". Since the Jetsons service defaults to the JSON format, the ",(0,a.jsx)(r.code,{children:"accept"})," header is required in order to force the service to return metadata in the ",(0,a.jsx)(r.code,{children:"application/xml"})," format."]}),"\n",(0,a.jsxs)(r.p,{children:["More information on configuring the Handler can be found in the ",(0,a.jsx)(r.a,{href:"https://www.graphql-mesh.com/docs/handlers/odata",children:"OData Handler Documentation"}),"."]}),"\n",(0,a.jsx)(r.h2,{id:"preview-your-service-with-graphql",children:"Preview your service with GraphQL"}),"\n",(0,a.jsx)(r.p,{children:"To test using GraphQL against your service, execute the following command:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"npx mesh dev\n"})}),"\n",(0,a.jsxs)(r.p,{children:["You can now use GraphiQL to try out a dynamically generated client at ",(0,a.jsx)(r.a,{href:"http://localhost:4000",children:"http://localhost:4000"})]}),"\n",(0,a.jsx)(r.h2,{id:"build-your-client",children:"Build your client"}),"\n",(0,a.jsx)(r.p,{children:"To build a stand-alone GraphQL Client for your service, run the following commands:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"npx mesh build\n"})}),"\n",(0,a.jsxs)(r.p,{children:["You can now explore the artifacts, such as the generated GraphQL schema: ",(0,a.jsx)(r.code,{children:"schema.graphql"}),", from the .mesh folder."]}),"\n",(0,a.jsx)(r.h2,{id:"deploy-a-graphql-sdk-for-your-client",children:"Deploy a GraphQL SDK for your client"}),"\n",(0,a.jsxs)(r.p,{children:["Once you have built your GraphQL client, you can deploy it as a ",(0,a.jsx)(r.a,{href:"https://www.graphql-mesh.com/docs/recipes/as-gateway",children:"Gateway"})," or ",(0,a.jsx)(r.a,{href:"https://www.graphql-mesh.com/docs/recipes/as-sdk",children:"Generate an SDK"})," to call it directly from within your applications."]})]})}function d(e={}){const{wrapper:r}={...(0,n.a)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},1670:(e,r,t)=>{t.d(r,{Z:()=>o,a:()=>i});var a=t(7378);const n={},s=a.createContext(n);function i(e){const r=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),a.createElement(s.Provider,{value:r},e.children)}}}]);