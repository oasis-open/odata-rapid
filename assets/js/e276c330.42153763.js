"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[594],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return c}});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=a.createContext({}),i=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=i(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),d=i(n),c=l,y=d["".concat(s,".").concat(c)]||d[c]||u[c]||r;return n?a.createElement(y,o(o({ref:t},m),{},{components:n})):a.createElement(y,o({ref:t},m))}));function c(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,o=new Array(r);o[0]=d;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:l,o[1]=p;for(var i=2;i<r;i++)o[i]=n[i];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1226:function(e,t,n){n.r(t),n.d(t,{assets:function(){return h},contentTitle:function(){return g},default:function(){return E},frontMatter:function(){return T},metadata:function(){return f},toc:function(){return x}});var a=n(7462),l=n(3366),r=n(7294),o=n(3905),p=n(6010),s=n(2389),i=n(7392),m=n(7094),u=n(2466),d="tabList__CuJ",c="tabItem_LNqP";function y(e){var t,n,l=e.lazy,o=e.block,s=e.defaultValue,y=e.values,k=e.groupId,N=e.className,v=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),b=null!=y?y:v.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),T=(0,i.l)(b,(function(e,t){return e.value===t.value}));if(T.length>0)throw new Error('Docusaurus error: Duplicate values "'+T.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===s?s:null!=(t=null!=s?s:null==(n=v.find((function(e){return e.props.default})))?void 0:n.props.value)?t:v[0].props.value;if(null!==g&&!b.some((function(e){return e.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+b.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var f=(0,m.U)(),h=f.tabGroupChoices,x=f.setTabGroupChoices,S=(0,r.useState)(g),E=S[0],C=S[1],I=[],j=(0,u.o5)().blockElementScrollPositionUntilNextRender;if(null!=k){var $=h[k];null!=$&&$!==E&&b.some((function(e){return e.value===$}))&&C($)}var P=function(e){var t=e.currentTarget,n=I.indexOf(t),a=b[n].value;a!==E&&(j(t),C(a),null!=k&&x(k,String(a)))},D=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a,l=I.indexOf(e.currentTarget)+1;n=null!=(a=I[l])?a:I[0];break;case"ArrowLeft":var r,o=I.indexOf(e.currentTarget)-1;n=null!=(r=I[o])?r:I[I.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:(0,p.Z)("tabs-container",d)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,p.Z)("tabs",{"tabs--block":o},N)},b.map((function(e){var t=e.value,n=e.label,l=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:E===t?0:-1,"aria-selected":E===t,key:t,ref:function(e){return I.push(e)},onKeyDown:D,onFocus:P,onClick:P},l,{className:(0,p.Z)("tabs__item",c,null==l?void 0:l.className,{"tabs__item--active":E===t})}),null!=n?n:t)}))),l?(0,r.cloneElement)(v.filter((function(e){return e.props.value===E}))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},v.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==E})}))))}function k(e){var t=(0,s.Z)();return r.createElement(y,(0,a.Z)({key:String(t)},e))}var N="tabItem_Ymn6";function v(e){var t=e.children,n=e.hidden,a=e.className;return r.createElement("div",{role:"tabpanel",className:(0,p.Z)(N,a),hidden:n},t)}var b=["components"],T={id:"rsdl-semantics",title:"RSDL Semantics"},g=void 0,f={unversionedId:"rsdl/rsdl-semantics",id:"rsdl/rsdl-semantics",title:"RSDL Semantics",description:"DRAFT",source:"@site/../docs/rsdl/rapid-rsdl-semantics.mdx",sourceDirName:"rsdl",slug:"/rsdl/rsdl-semantics",permalink:"/docs/rsdl/rsdl-semantics",draft:!1,editUrl:"https://github.com/oasis-open/odata-rapid/edit/main/docs/../docs/rsdl/rapid-rsdl-semantics.mdx",tags:[],version:"current",frontMatter:{id:"rsdl-semantics",title:"RSDL Semantics"},sidebar:"docs",previous:{title:"RSDL Intro",permalink:"/docs/rsdl/rsdl-intro"},next:{title:"RSDL ABNF",permalink:"/docs/rsdl/rsdl-abnf"}},h={},x=[{value:"Model",id:"model",level:2},{value:"Structured Types",id:"structured-types",level:2},{value:"Structured Types with <code>key</code> Properties",id:"structured-types-with-key-properties",level:3},{value:"Structured Types without <code>key</code> Properties",id:"structured-types-without-key-properties",level:3},{value:"Abstract Structured Types",id:"abstract-structured-types",level:3},{value:"Structured Type Inheritance",id:"structured-type-inheritance",level:3},{value:"Properties",id:"properties",level:3},{value:"Property Types",id:"property-types",level:4},{value:"Actions and Functions",id:"actions-and-functions",level:3},{value:"Function Return Types",id:"function-return-types",level:4},{value:"Functions Parameters",id:"functions-parameters",level:4},{value:"Enumeration Types",id:"enumeration-types",level:2},{value:"Flag Types",id:"flag-types",level:2},{value:"Service",id:"service",level:2},{value:"Multi-Valued Service Member",id:"multi-valued-service-member",level:3},{value:"Single-Valued Service Member",id:"single-valued-service-member",level:3},{value:"Descriptions and Comments",id:"descriptions-and-comments",level:2},{value:"Appendix",id:"appendix",level:2},{value:"References",id:"references",level:3}],S={toc:x};function E(e){var t=e.components,n=(0,l.Z)(e,b);return(0,o.kt)("wrapper",(0,a.Z)({},S,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"DRAFT\nInitial Draft. July 2020")),(0,o.kt)("p",null,"The semantic of RSDL (RAPID Schema Definition Language) can be described by mapping\nsyntactical constructs described in ",(0,o.kt)("a",{parentName:"p",href:"rsdl-abnf"},"rapid-rsdl-abnf")," to equivalent runtime ",(0,o.kt)("a",{parentName:"p",href:"/docs/spec/servicedescription"},"Service Definition")," constructs."),(0,o.kt)("p",null,"Please refer to ",(0,o.kt)("a",{parentName:"p",href:"./rsdl-abnf"},"rapid-rsdl-abnf")," for the syntactical constructs of RSDL."),(0,o.kt)("h2",{id:"model"},"Model"),(0,o.kt)("p",null,"A ",(0,o.kt)("a",{parentName:"p",href:"rsdl-abnf#model"},"model"),' is mapped to a CSDL Schema named "Model", that has an entity container named "Service".'),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "$Version": "4.01",\n  "$EntityContainer": "Model.Service",\n  "Model": {\n    "Service": { "$Kind": "EntityContainer" }\n  }\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<Schema Namespace="Model" xmlns="http://docs.oasis-open.org/odata/ns/edm">\n  <EntityContainer Name="Service">\n  </EntityContainer>\n</Schema>\n')))),(0,o.kt)("p",null,"The model's\n",(0,o.kt)("a",{parentName:"p",href:"rsdl-abnf#service"},"service"),",\n",(0,o.kt)("a",{parentName:"p",href:"rsdl-abnf#structured-type"},"structured types"),", and\n",(0,o.kt)("a",{parentName:"p",href:"rsdl-abnf#enumeration-type"},"enumeration types")," are mapped to the respective constructs below and added to the schema (or container respectively)"),(0,o.kt)("h2",{id:"structured-types"},"Structured Types"),(0,o.kt)("p",null,"A ",(0,o.kt)("a",{parentName:"p",href:"rsdl-abnf#structured-type"},"structured type")," is mapped to either\nan ",(0,o.kt)("a",{parentName:"p",href:"http://docs.oasis-open.org/odata/odata-csdl-xml/v4.01/odata-csdl-xml-v4.01.html#sec_EntityType"},"entity type"),"\nor a ",(0,o.kt)("a",{parentName:"p",href:"http://docs.oasis-open.org/odata/odata-csdl-xml/v4.01/odata-csdl-xml-v4.01.html#sec_ComplexType"},"complex type"),"\nwhen converting from RSDL to CSDL."),(0,o.kt)("p",null,"A structured type with one or more properties marked with ",(0,o.kt)("inlineCode",{parentName:"p"},"key")," is mapped to an entity type.\nCorrespondingly, a structured type without ",(0,o.kt)("inlineCode",{parentName:"p"},"key")," properties is mapped to a complex type."),(0,o.kt)("h3",{id:"structured-types-with-key-properties"},"Structured Types with ",(0,o.kt)("inlineCode",{parentName:"h3"},"key")," Properties"),(0,o.kt)("p",null,"Here, we can see an example of how an RSDL structured type with a ",(0,o.kt)("inlineCode",{parentName:"p"},"key")," id property maps to a CSDL entity type."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"type Employee {\n  key id: Integer\n  name : Name\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"Employee": {\n  "$Kind": "EntityType",\n  "$Key": [ "id" ],\n  "id": { "$Type": "Edm.Int32" },\n  "name": { "$Type": "Model.Name" }\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<EntityType Name="Employee">\n  <Key>\n    <PropertyRef Name="id" />\n  </Key>\n  <Property Name="id" Type="Edm.Int32" Nullable="false" />\n  <Property Name="name" Type="Model.Name" Nullable="false" />\n</EntityType>\n')))),(0,o.kt)("h3",{id:"structured-types-without-key-properties"},"Structured Types without ",(0,o.kt)("inlineCode",{parentName:"h3"},"key")," Properties"),(0,o.kt)("p",null,"On the other hand, an RSDL structured type without a ",(0,o.kt)("inlineCode",{parentName:"p"},"key")," property maps to a CSDL complex type.\nSuch types don't have keys because they are intended for organizing related properties into a group that is non-unique and does not stand on its own."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"type Name {\n  firstName : String\n  lastName: String\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"Name": {\n  "$Kind": "ComplexType",\n  "firstName": { "$Type": "Edm.String" },\n  "lastName": { "$Type": "Edm.String" }\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<ComplexType Name="Name">\n  <Property Name="firstName" Type="Edm.String" Nullable="false" />\n  <Property Name="lastName" Type="Edm.String" Nullable="false" />\n</ComplexType>\n')))),(0,o.kt)("h3",{id:"abstract-structured-types"},"Abstract Structured Types"),(0,o.kt)("p",null,"A type may be defined as ",(0,o.kt)("inlineCode",{parentName:"p"},"abstract"),". An abstract type cannot be instantiated, but can be used as a base type for other type definitions."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"abstract type Robot {\n  model: String\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"Robot": {\n  "$Kind": "ComplexType",\n  "$Abstract": true,\n  "model": { "$Type": "Edm.String" }\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<ComplexType Name="Robot" Abstract="true">\n  <Property Name="model" Type="Edm.String" Nullable="false" />\n</ComplexType>\n')))),(0,o.kt)("h3",{id:"structured-type-inheritance"},"Structured Type Inheritance"),(0,o.kt)("p",null,"Types may extend other types through inheritance.\nThe type derived from the base type inherits all properties, relationships, and operations bound to the base type (type inheritance) and can be used anywhere the base type is used (polymorphism)."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"type Android extends Robot {\n  name: String\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"Android": {\n  "$Kind": "ComplexType",\n  "$BaseType": "Model.Robot",\n  "name": { "$Type": "Edm.String" }\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<ComplexType Name="Android" BaseType="Model.Robot">\n  <Property Name="name" Type="Edm.String" Nullable="false" />\n</ComplexType>\n')))),(0,o.kt)("h3",{id:"properties"},"Properties"),(0,o.kt)("p",null,"The properties of a structured type are mapped to either a Property or a NavigationProperty depending on the property's type."),(0,o.kt)("p",null,"In the following example, let's assume ",(0,o.kt)("inlineCode",{parentName:"p"},"name")," is mapped to a complex type and ",(0,o.kt)("inlineCode",{parentName:"p"},"employee")," is mapped to an entity type."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"type Company {\n  key stockSymbol: String\n  name: Name\n  employees: [Employee]\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"Company": {\n  "$Kind": "EntityType",\n  "$Key": [ "stockSymbol" ],\n  "stockSymbol": { "$Type": "Edm.String" },\n  "name": { "$Type": "Edm.String" },\n  "employees": {\n    "$Kind": "NavigationProperty",\n    "$Type": "Model.Employee",\n    "$Collection": true,\n    "$ContainsTarget": true\n  }\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<EntityType Name="Company">\n  <Key>\n    <PropertyRef Name="stockSymbol" />\n  </Key>\n  <Property Name="stockSymbol" Type="Edm.String" Nullable="false" />\n  <Property Name="name" Type="Edm.String" Nullable="false" />\n  <NavigationProperty Name="employees" Type="Collection(Model.Employee)" ContainsTarget="true" />\n</EntityType>\n')))),(0,o.kt)("h4",{id:"property-types"},"Property Types"),(0,o.kt)("p",null,"The type of a property is one of:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"the built-in types defined in the ",(0,o.kt)("a",{parentName:"li",href:"rsdl-abnf/#structured-type"},(0,o.kt)("inlineCode",{parentName:"a"},"builtInType"))," syntax rule"),(0,o.kt)("li",{parentName:"ul"},"the primitive EDM types listed in ",(0,o.kt)("a",{parentName:"li",href:"http://docs.oasis-open.org/odata/odata-csdl-json/v4.01/odata-csdl-json-v4.01.html#sec_PrimitiveTypes"},"OData CSDL JSON Representation")," and ",(0,o.kt)("a",{parentName:"li",href:"http://docs.oasis-open.org/odata/odata-csdl-xml/v4.01/odata-csdl-xml-v4.01.html#sec_PrimitiveTypes"},"OData CSDL XML Representation")),(0,o.kt)("li",{parentName:"ul"},"the structured or enumeration types defined in the model")),(0,o.kt)("p",null,"Each of these named types can be marked as"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"optional via a question mark ",(0,o.kt)("inlineCode",{parentName:"li"},"?")),(0,o.kt)("li",{parentName:"ul"},"multi-valued via enclosing it in brackets ",(0,o.kt)("inlineCode",{parentName:"li"},"[")," ",(0,o.kt)("inlineCode",{parentName:"li"},"]"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"type Foo {\n  test1: Integer\n  test2: Integer?\n  test3: [Integer]\n  test4: [Integer?]\n  test5: String\n  test6: String(80)\n  test7: Decimal\n  test8: Decimal(15,2)\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"Foo": {\n  "$Kind": "EntityType",\n  "test1": {  "$Type": "Edm.Int32" },\n  "test2": { "$Nullable": true, "$Type": "Edm.Int32" },\n  "test3": { "$Collection": true, "$Type": "Edm.Int32" },\n  "test4": { "$Collection": true, "$Nullable": true, "$Type": "Edm.Int32" },\n  "test5": {},\n  "test6": {  "$MaxLength": 80 },\n  "test7": {  "$Type": "Edm.Decimal", "$Scale": "variable" },\n  "test8": {  "$Type": "Edm.Decimal", "$Precision": 15, "$Scale": 2 },\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<EntityType Name="Foo">\n  <Property Name="test1" Type="Edm.Int32" Nullable="false" />\n  <Property Name="test2" Type="Edm.Int32" Nullable="true" />\n  <Property Name="test3" Type="Collection(Edm.Int32)" Nullable="false"/>\n  <Property Name="test4" Type="Collection(Edm.Int32)" Nullable="true"/>\n  <Property Name="test5" Type="Edm.String" Nullable="false" />\n  <Property Name="test6" Type="Edm.String" Nullable="false" MaxLength="80" />\n  <Property Name="test7" Type="Edm.Decimal" Nullable="false" Scale="variable" />\n  <Property Name="test8" Type="Edm.Decimal" Nullable="false" Precision="15" Scale="2" />\n</EntityType>\n')))),(0,o.kt)("h3",{id:"actions-and-functions"},"Actions and Functions"),(0,o.kt)("p",null,"The syntactical production rule ",(0,o.kt)("inlineCode",{parentName:"p"},"operation")," is mapped to a bound action or a bound function in CSDL."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"operations with an ",(0,o.kt)("inlineCode",{parentName:"li"},"action")," modifier are mapped to a CSDL ",(0,o.kt)("a",{parentName:"li",href:"http://docs.oasis-open.org/odata/odata-csdl-xml/v4.01/odata-csdl-xml-v4.01.html#sec_Action"},"Action")),(0,o.kt)("li",{parentName:"ul"},"operations without a modifier are mapped to CSDL ",(0,o.kt)("a",{parentName:"li",href:"http://docs.oasis-open.org/odata/odata-csdl-xml/v4.01/odata-csdl-xml-v4.01.html#sec_Function"},"Function"))),(0,o.kt)("p",null,"The binding parameter of the function is inferred from the containing type production rule and named ",(0,o.kt)("inlineCode",{parentName:"p"},"it")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"type Employee {\n  key id: Integer\n  foo()\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"foo": [\n  {\n    "$Kind": "Function",\n    "$IsBound": true,\n    "$IsComposable": true,\n    "$Parameter": [ { "$Name": "it", "$Type": "Model.Employee" } ]\n  }\n]\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<Function Name="foo" IsBound="true" IsComposable="true">\n  <Parameter Name="it" Type="Model.Employee" Nullable="false" />\n</Function>\n')))),(0,o.kt)("h4",{id:"function-return-types"},"Function Return Types"),(0,o.kt)("p",null,"The return type of a function is mapped similar to a property type with the same semantic for ",(0,o.kt)("inlineCode",{parentName:"p"},"[")," ",(0,o.kt)("inlineCode",{parentName:"p"},"]")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"?"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"type Employee {\n  key id: Integer\n  foo() : Integer\n  bar() : [Integer]\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"foo": [\n  {\n    "$Kind": "Function",\n    "$IsBound": true,\n    "$IsComposable": true,\n    "$Parameter": [ { "$Name": "it", "$Type": "Model.Employee" } ],\n    "$ReturnType": { "$Type": "Edm.Int32" }\n  }\n],\n"bar": [\n  {\n    "$Kind": "Function",\n    "$IsBound": true,\n    "$IsComposable": true,\n    "$Parameter": [ { "$Name": "it", "$Type": "Model.Employee" } ],\n    "$ReturnType": { "$Collection": true, "$Type": "Edm.Int32" }\n  }\n]\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<Function Name="foo" IsBound="true" IsComposable="true">\n  <Parameter Name="it" Type="Model.Employee" Nullable="false" />\n  <ReturnType Type="Edm.Int32" Nullable="false" />\n</Function>\n\n<Function Name="bar" IsBound="true" IsComposable="true">\n  <Parameter Name="it" Type="Model.Employee" Nullable="false" />\n  <ReturnType Type="Collection(Edm.Int32)" Nullable="false" />\n</Function>\n')))),(0,o.kt)("h4",{id:"functions-parameters"},"Functions Parameters"),(0,o.kt)("p",null,"Parameters are similar to properties in that they have a name and reference a type."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"type Employee {\n  key id: Integer\n  foo(a: Integer, b: [Integer?])\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'  "foo": [\n    {\n      "$Kind": "Function",\n      "$IsBound": true,\n      "$IsComposable": true,\n      "$Parameter": [\n        { "$Name": "it", "$Type": "Model.Employee" },\n        { "$Name": "a", "$Type": "Edm.Int32" },\n        { "$Name": "b", "$Collection": true, "$Type": "Edm.Int32", "$Nullable": true }\n      ]\n    }\n  ]\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<Function Name="foo" IsBound="true" IsComposable="true">\n  <Parameter Name="it" Type="Model.Employee" Nullable="false" />\n  <Parameter Type="Edm.Int32" Nullable="false" />\n  <Parameter Type="Collection(Edm.Int32)" Nullable="true" />\n</Function>\n')))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"TODO: decide on optional parameters, how they are different from nullable required parameters, and if that is a feature required now or too much for RAPID")),(0,o.kt)("h2",{id:"enumeration-types"},"Enumeration Types"),(0,o.kt)("p",null,"An ",(0,o.kt)("a",{parentName:"p",href:"rsdl-abnf#enumeration-type"},"Enumeration Type")," is mapped to a CSDL EnumType. The enumeration members' values are automatically assigned."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},"enum employmentType { salaried hourly }\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"employmentType": {\n  "$Kind": "EnumType",\n  "salaried": 0,\n  "hourly": 1\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<EnumType Name="employmentType">\n  <Member Name="salaried" Value="0" />\n  <Member Name="hourly" Value="1" />\n</EnumType>\n')))),(0,o.kt)("h2",{id:"flag-types"},"Flag Types"),(0,o.kt)("p",null,"A ",(0,o.kt)("a",{parentName:"p",href:"rsdl-abnf#enumeration-type"},"Flags Type"),", i.e an enumeration that starts with the keyword flags, is mapped to an CSDL EnumType with the ",(0,o.kt)("inlineCode",{parentName:"p"},"IsFlags")," property set to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),".\nThe members' values are automatically assigned to powers of 2."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},"flags PhoneService { LandLine Cell Fax Internet Other }\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'  "PhoneService": {\n    "$Kind": "EnumType",\n    "$IsFlags": true,\n    "LandLine": 1,\n    "Cell": 2,\n    "Fax": 4,\n    "Internet": 8,\n    "Other": 16\n  }\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'  <EnumType Name="PhoneService" IsFlags="true">\n    <Member Name="LandLine" Value="1" />\n    <Member Name="Cell" Value="2" />\n    <Member Name="Fax" Value="4" />\n    <Member Name="Internet" Value="8" />\n    <Member Name="Other" Value="16" />\n  </EnumType>\n')))),(0,o.kt)("h2",{id:"service"},"Service"),(0,o.kt)("p",null,'As mentioned above, every RAPID service model creates a CSDL entity container named "Service"'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"service {\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"Service": {\n  "$Kind": "EntityContainer"\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<EntityContainer Name="Service">\n')))),(0,o.kt)("h3",{id:"multi-valued-service-member"},"Multi-Valued Service Member"),(0,o.kt)("p",null,"A service member of a multi-valued type is mapped to a CSDL entity set."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"service {\n  employees: [Employee]\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"Service": {\n  "$Kind": "EntityContainer",\n  "employees": { "$Collection": true, "$Type": "Model.Employee" }\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<EntityContainer Name="Service">\n  <EntitySet Name="employees" EntityType="Model.Employee" />\n</EntityContainer>\n')))),(0,o.kt)("p",null,"If the type is used as a type on a multi-value and as the type of a property of a structured type (i.e. a navigation property in CSDL),\nthe appropriate navigation property bindings get created.\nThe ",(0,o.kt)("inlineCode",{parentName:"p"},"Company")," type from the ",(0,o.kt)("a",{parentName:"p",href:"#properties"},"Properties section")," has an ",(0,o.kt)("inlineCode",{parentName:"p"},"employees")," property of the type ",(0,o.kt)("inlineCode",{parentName:"p"},"Employee"),".\nThe binding in CSDL defines that objects of these properties are bound to the ",(0,o.kt)("inlineCode",{parentName:"p"},"employees")," entity set."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"service {\n  competitors: [Company]\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"Service": {\n  "$Kind": "EntityContainer",\n  "competitors": {\n    "$Collection": true,\n    "$Type": "Model.Company",\n    "$NavigationPropertyBinding": {\n      "employees": "employees"\n    }\n  }\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<EntityContainer Name="Service">\n  <EntitySet Name="competitors" EntityType="Model.Company">\n    <NavigationPropertyBinding Path="employees" Target="employees" />\n  </EntitySet>\n</EntityContainer>\n')))),(0,o.kt)("h3",{id:"single-valued-service-member"},"Single-Valued Service Member"),(0,o.kt)("p",null,"A service member of a single-value type gets mapped to a CSDL singleton."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"service {\n  company: Company\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"Service": {\n  "$Kind": "EntityContainer",\n  "company": { "$Type": "Model.Company" }\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<EntityContainer Name="Service">\n  <Singleton Name="company" Type="Model.Company" />\n</EntityContainer>\n')))),(0,o.kt)("h2",{id:"descriptions-and-comments"},"Descriptions and Comments"),(0,o.kt)("p",null,"All elements of a model can be described by lines starting with ",(0,o.kt)("inlineCode",{parentName:"p"},"##")," preceding the model element.\nThese descriptions are mapped to annotations with term ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/oasis-tcs/odata-vocabularies/blob/main/vocabularies/Org.OData.Core.V1.md#Description"},"Core.Description")," in the corresponding CSDL construct."),(0,o.kt)("p",null,"In addition anything after a single ",(0,o.kt)("inlineCode",{parentName:"p"},"#")," character will be treated as a comment and ignored when mapping to CSDL."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-rsdl"},"## The Employees Service\n# still needs some work\nservice {\n  ## List of all employees\n  employees: [Employee]\n}\n")),(0,o.kt)(k,{defaultValue:"json",groupId:"csdl",values:[{label:"JSON",value:"json"},{label:"XML",value:"xml"}],mdxType:"Tabs"},(0,o.kt)(v,{value:"json",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"Service": {\n  "$Kind": "EntityContainer",\n  "@Core.Description": "The Employees Service",\n  "employees": { "$Collection": true, "$Type": "Model.Employee", "@Core.Description": "List of all employees" }\n}\n'))),(0,o.kt)(v,{value:"xml",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<EntityContainer Name="Service">\n  <Annotation Term="Core.Description" String="The Employees Service" />\n  <EntitySet Name="employees" EntityType="Model.Employee">\n    <Annotation Term="Core.Description" String="List of all employees" />\n  </EntitySet>\n</EntityContainer>\n')))),(0,o.kt)("h2",{id:"appendix"},"Appendix"),(0,o.kt)("h3",{id:"references"},"References"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Semantics_(computer_science)"},"Semantics")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"http://docs.oasis-open.org/odata/odata-csdl-json/v4.01/odata-csdl-json-v4.01.html"},"OData CSDL JSON Representation")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"http://docs.oasis-open.org/odata/odata-csdl-xml/v4.01/odata-csdl-xml-v4.01.html"},"OData CSDL XML Representation"))))}E.isMDXComponent=!0}}]);